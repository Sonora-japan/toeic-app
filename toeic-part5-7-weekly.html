<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ä»Šé€±ã®TOEIC Part 5ã€œ7 æ¨¡è©¦</title>
  <style>
    body { font-family: sans-serif; padding: 2em; max-width: 800px; margin: auto; line-height: 1.6; }
    h1, h2 { color: #003366; }
    .question { margin-bottom: 2em; }
    .result { font-weight: bold; font-size: 1.2em; margin-top: 2em; }
    .correct { color: green; }
    .incorrect { color: red; }
    #timer { font-weight: bold; font-size: 1.1em; margin-bottom: 1em; color: #555; }
    #language-select { margin-bottom: 1em; }
  </style>
</head>
<body>
  <h1 id="main-title">ğŸ“ ä»Šé€±ã®TOEIC Part 5ã€œ7 æ¨¡è©¦</h1>
  <div id="language-select">
    ğŸŒ è¨€èªã‚’é¸æŠ: 
    <select onchange="setLanguage(this.value)">
      <option value="ja">æ—¥æœ¬èª</option>
      <option value="en">English</option>
      <option value="ko">í•œêµ­ì–´</option>
    </select>
  </div>
  <div id="timer">ğŸ•’ è§£ç­”æ™‚é–“: 0ç§’</div>
  <form id="toeic-form">
    <h2>ğŸ“˜ Part 5: æ–‡æ³•ç©´åŸ‹ã‚ï¼ˆ5å•ï¼‰</h2>
    <div id="questions"></div>

    <h2>ğŸ“® Part 6: ç¤¾å†…é€šçŸ¥æ–‡ï¼ˆ4å•ï¼‰</h2>
    <div id="part6"></div>

    <h2>ğŸ“° Part 7: è‹±æ–‡è¨˜äº‹èª­è§£ï¼ˆ3å•ï¼‰</h2>
    <div id="part7">
  <p><strong>Article:</strong><br>
  TechLingua Inc. has announced a new update to its AI-powered translation app, <em>LinguaNow</em>. The update includes real-time voice recognition, cultural nuance suggestions, and smoother integration with business messaging tools. According to CEO Mai Tanaka, the update will help international teams collaborate more effectively across languages. The company plans to roll out the update globally by the end of the month.</p>

  <div class="question">
    <p><strong>Q10:</strong> What is the main purpose of the update to LinguaNow?</p>
    <label><input type="radio" name="q9" value="To improve app security"> To improve app security</label><br>
    <label><input type="radio" name="q9" value="To enhance international communication"> To enhance international communication</label><br>
    <label><input type="radio" name="q9" value="To expand offline use"> To expand offline use</label><br>
    <label><input type="radio" name="q9" value="To offer new payment options"> To offer new payment options</label><br>
    <p class="explanation" id="explain9"></p>
  </div>

  <div class="question">
    <p><strong>Q11:</strong> According to the article, what is one feature added in the update?</p>
    <label><input type="radio" name="q10" value="Offline dictionary"> Offline dictionary</label><br>
    <label><input type="radio" name="q10" value="Cultural suggestions"> Cultural suggestions</label><br>
    <label><input type="radio" name="q10" value="Grammar tutorials"> Grammar tutorials</label><br>
    <label><input type="radio" name="q10" value="Speech recording"> Speech recording</label><br>
    <p class="explanation" id="explain10"></p>
  </div>

  <div class="question">
    <p><strong>Q12:</strong> What does TechLingua plan to do by the end of the month?</p>
    <label><input type="radio" name="q11" value="Release a new app"> Release a new app</label><br>
    <label><input type="radio" name="q11" value="Hire new translators"> Hire new translators</label><br>
    <label><input type="radio" name="q11" value="Launch an ad campaign"> Launch an ad campaign</label><br>
    <label><input type="radio" name="q11" value="Distribute the update globally"> Distribute the update globally</label><br>
    <p class="explanation" id="explain11"></p>
  </div>
</div>

    <button id="submit-button" type="button" onclick="gradeQuiz()">è§£ç­”ã‚’æå‡ºã™ã‚‹</button>
  </form>

  <div id="score" class="result"></div>
  <div id="time-result" class="result"></div>

  <div class="result">
    <h2 id="share-title">ğŸ“¤ çµæœã‚’SNSã§ã‚·ã‚§ã‚¢ã—ã‚ˆã†ï¼</h2>
    <p id="share-text">ã“ã®æ¨¡æ“¬ãƒ†ã‚¹ãƒˆã«æŒ‘æˆ¦ã—ãŸã“ã¨ã‚’å‹é”ã«çŸ¥ã‚‰ã›ã‚ˆã†ï¼</p>
    <button id="share-twitter" onclick="shareOnTwitter()">ğŸ•Š Xï¼ˆTwitterï¼‰ã§ã‚·ã‚§ã‚¢</button>
    <button id="share-instagram" onclick="captureResult()">ğŸ“¸ Instagramç”¨ç”»åƒã‚’ä¿å­˜</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js">
function gradeQuiz() {
  const answers = [
    "effective", "impose", "rise", "affect", "financial", // Part 5 (q0â€“q4)
    "postponed", "consult", "shortly", "transition",         // Part 6 (q5â€“q8)
    "To enhance international communication", "Cultural suggestions", "Distribute the update globally" // Part 7 (q9â€“q11)
  ];

  let correct = 0;
  for (let i = 0; i < answers.length; i++) {
    const selected = document.querySelector(`input[name=q${i}]:checked`);
    const explanation = document.getElementById(`explain${i}`);
    if (selected) {
      if (selected.value === answers[i]) {
        correct++;
        explanation.innerHTML = `<span class='correct'>æ­£è§£ï¼</span> âœ…`;
      } else {
        explanation.innerHTML = `<span class='incorrect'>ä¸æ­£è§£ âŒ</span><br>ã‚ãªãŸã®ç­”ãˆ: ${selected.value}<br><span class='correct'>æ­£è§£: ${answers[i]}</span>`;
      }
    } else {
      explanation.innerHTML = `<span class='incorrect'>æœªå›ç­” âš ï¸</span><br><span class='correct'>æ­£è§£: ${answers[i]}</span>`;
    }
  }

  const percentage = ((correct / answers.length) * 100).toFixed(1);
  document.getElementById("score").innerHTML = `ã‚ãªãŸã®æ­£è§£æ•°ã¯ <span class='correct'>${correct}</span> / ${answers.length}ï¼ˆ<strong>${percentage}%</strong>ï¼‰ã§ã™ï¼`;

  const elapsed = Math.floor((Date.now() - startTime) / 1000);
  let timeMessage = `â± è§£ç­”æ™‚é–“ã¯ ${elapsed} ç§’ã§ã™ã€‚`;
  timeMessage += elapsed <= expectedTimeSec ? "ï¼ˆæ™‚é–“å†…ã«è§£ãçµ‚ã‚ã‚Šã¾ã—ãŸâœ¨ï¼‰" : "ï¼ˆæƒ³å®šæ™‚é–“ã‚’è¶…ãˆã¦ã„ã¾ã™âš ï¸ï¼‰";
  document.getElementById("time-result").textContent = timeMessage;
}
</script>
  <script>
    let currentLang = "ja";
let startTime = Date.now();
const expectedTimeSec = 600; // 10åˆ†ç›®å®‰

// Part 5 å•é¡Œãƒ‡ãƒ¼ã‚¿
const part5Data = [
  { q: "The new tariff policy will be ______ next Monday, affecting all imported goods.", options: ["effective", "effect", "effectively", "effectiveness"], answer: "effective", explanations: { ja: "beå‹•è©ã®å¾Œã«å½¢å®¹è©ãŒå¿…è¦ã€‚'effective' ã¯ã€æœ‰åŠ¹ãªã€ã¨ã„ã†æ„å‘³ã€‚", en: "An adjective is needed after 'be'. 'Effective' means valid or active.", ko: "be ë™ì‚¬ ë’¤ì—ëŠ” í˜•ìš©ì‚¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. 'effective'ëŠ” 'íš¨ê³¼ì ì¸'ì´ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤." } },
  { q: "The government decided to ______ a 10% tariff on all imports.", options: ["impose", "increase", "collect", "lower"], answer: "impose", explanations: { ja: "é–¢ç¨ã‚’ã€èª²ã™ã€ã«ã¯ 'impose a tariff' ã¨ã„ã†è¡¨ç¾ãŒè‡ªç„¶ã€‚", en: "'Impose a tariff' is the natural phrase meaning to apply a tax.", ko: "'ê´€ì„¸ë¥¼ ë¶€ê³¼í•˜ë‹¤'ëŠ” ëœ»ì˜ ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„ì€ 'impose a tariff'ì…ë‹ˆë‹¤." } },
  { q: "Many companies expressed concern about the ______ in costs.", options: ["rise", "rising", "rose", "raises"], answer: "rise", explanations: { ja: "å† è© 'the' ã®å¾Œã«ã¯åè©ãŒå¿…è¦ã€‚'rise' ã¯åè©ã§ã€ä¸Šæ˜‡ã€ã€‚", en: "After 'the', a noun is needed. 'Rise' is a noun meaning increase.", ko: "'the' ë‹¤ìŒì—ëŠ” ëª…ì‚¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. 'rise'ëŠ” ëª…ì‚¬ë¡œ 'ìƒìŠ¹'ì„ ì˜ë¯¸í•©ë‹ˆë‹¤." } },
  { q: "Some analysts predict the tariffs may ______ global trade in the long term.", options: ["affect", "effect", "affecting", "affected"], answer: "affect", explanations: { ja: "åŠ©å‹•è© 'may' ã®å¾Œã«ã¯å‹•è©ã®åŸå½¢ 'affect' ãŒå¿…è¦ã€‚", en: "After 'may', the base form of the verb 'affect' is required.", ko: "'may' ë‹¤ìŒì—ëŠ” ë™ì‚¬ ì›í˜• 'affect'ê°€ ì™€ì•¼ í•©ë‹ˆë‹¤." } },
  { q: "The announcement caused a significant reaction in the ______ markets.", options: ["financial", "finance", "financing", "financed"], answer: "financial", explanations: { ja: "åè© 'markets' ã‚’ä¿®é£¾ã™ã‚‹å½¢å®¹è© 'financial'ï¼ˆé‡‘èã®ï¼‰ãŒæ­£ã—ã„ã€‚", en: "An adjective is needed to modify 'markets'. 'Financial' fits here.", ko: "ëª…ì‚¬ 'markets'ë¥¼ ìˆ˜ì‹í•˜ëŠ” í˜•ìš©ì‚¬ 'financial'ì´ ë§ìŠµë‹ˆë‹¤." } },
];

const questionDiv = document.getElementById("questions");
part5Data.forEach((item, index) => {
  const block = document.createElement("div");
  block.className = "question";
  block.innerHTML = `<p><strong>Q${index + 1}:</strong> ${item.q}</p>` +
    item.options.map(opt => `
      <label><input type="radio" name="q${index}" value="${opt}"> ${opt}</label><br>`).join("") +
    `<p class="explanation" id="explain${index}"></p>`;
  questionDiv.appendChild(block);
});

// Part 6 ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¿½åŠ 
const part6Container = document.getElementById("part6");
part6Container.innerHTML = `
  <p>To: All Staff</p>
  <p>Subject: Change in Travel Policy</p>
  <p>Due to the recent political developments in neighboring countries, we are reviewing all scheduled overseas business trips. Please note the following updates:</p>
  <ol>
    <li>All travel to South Korea is temporarily ______.</li>
    <li>Employees are advised to ______ their upcoming itineraries with the HR department.</li>
    <li>Further communication will be shared ______.</li>
    <li>We appreciate your understanding and cooperation during this ______ period.</li>
  </ol>
  <div class="question">
    <p><strong>Q6:</strong> <br>
      <label><input type="radio" name="q5" value="canceled"> canceled</label><br>
      <label><input type="radio" name="q5" value="reviewing"> reviewing</label><br>
      <label><input type="radio" name="q5" value="postponed"> postponed</label><br>
      <label><input type="radio" name="q5" value="approved"> approved</label><br>
    </p>
    <p class="explanation" id="explain5"></p>
  </div>
  <div class="question">
    <p><strong>Q7:</strong> <br>
      <label><input type="radio" name="q6" value="submit"> submit</label><br>
      <label><input type="radio" name="q6" value="consult"> consult</label><br>
      <label><input type="radio" name="q6" value="confirm"> confirm</label><br>
      <label><input type="radio" name="q6" value="adjust"> adjust</label><br>
    </p>
    <p class="explanation" id="explain6"></p>
  </div>
  <div class="question">
    <p><strong>Q8:</strong> <br>
      <label><input type="radio" name="q7" value="recently"> recently</label><br>
      <label><input type="radio" name="q7" value="shortly"> shortly</label><br>
      <label><input type="radio" name="q7" value="quickly"> quickly</label><br>
      <label><input type="radio" name="q7" value="lately"> lately</label><br>
    </p>
    <p class="explanation" id="explain7"></p>
  </div>
  <div class="question">
    <p><strong>Q9:</strong> <br>
      <label><input type="radio" name="q8" value="transition"> transition</label><br>
      <label><input type="radio" name="q8" value="temporary"> temporary</label><br>
      <label><input type="radio" name="q8" value="unstable"> unstable</label><br>
      <label><input type="radio" name="q8" value="productive"> productive</label><br>
    </p>
    <p class="explanation" id="explain8"></p>
  </div>`;});
  </script>
</body>
</html>
