<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ä»Šé€±ã®æ™‚äº‹TOEICï¼šPart 5 æ¨¡æ“¬å•é¡Œ</title>
  <style>
    body { font-family: sans-serif; padding: 2em; max-width: 800px; margin: auto; line-height: 1.6; }
    h1, h2 { color: #003366; }
    .question { margin-bottom: 2em; }
    .result { font-weight: bold; font-size: 1.2em; margin-top: 2em; }
    .correct { color: green; }
    .incorrect { color: red; }
    #timer { font-weight: bold; font-size: 1.1em; margin-bottom: 1em; color: #555; }
    #language-select { margin-bottom: 1em; }
  </style>
</head>
<body>

<h1 id="main-title">ğŸ“ ä»Šé€±ã®æ™‚äº‹TOEIC Part 5 æ¨¡æ“¬å•é¡Œï¼ˆå…¨25å•ï¼‰</h1>
<div id="language-select">
  ğŸŒ è¨€èªã‚’é¸æŠ: 
  <select onchange="setLanguage(this.value)">
    <option value="ja">æ—¥æœ¬èª</option>
    <option value="en">English</option>
    <option value="ko">í•œêµ­ì–´</option>
  </select>
</div>
<div id="timer">ğŸ•’ è§£ç­”æ™‚é–“: 0ç§’</div>
<form id="toeic-form">
  <div id="questions"></div>
  <button id="submit-button" type="button" onclick="gradeQuiz()">è§£ç­”ã‚’æå‡ºã™ã‚‹</button>
</form>

<div id="score" class="result"></div>
<div id="time-result" class="result"></div>

<div class="result">
  <h2 id="share-title">ğŸ“¤ çµæœã‚’SNSã§ã‚·ã‚§ã‚¢ã—ã‚ˆã†ï¼</h2>
  <p id="share-text">ã“ã®æ¨¡æ“¬ãƒ†ã‚¹ãƒˆã«æŒ‘æˆ¦ã—ãŸã“ã¨ã‚’å‹é”ã«çŸ¥ã‚‰ã›ã‚ˆã†ï¼</p>
  <button id="share-twitter" onclick="shareOnTwitter()">ğŸ•Š Xï¼ˆTwitterï¼‰ã§ã‚·ã‚§ã‚¢</button>
  <button id="share-instagram" onclick="captureResult()">ğŸ“¸ Instagramç”¨ç”»åƒã‚’ä¿å­˜</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
// ------------------------------
// âœ… å…¨æ©Ÿèƒ½çµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆé–‹å§‹
// ------------------------------
let currentLang = "ja";
let startTime = Date.now();
const expectedTimeSec = 600;

const quizData = [
  { q: "Shohei Ohtaniâ€™s first home run of the season was ______ after a video review.", options: ["awarded", "confirmed", "announced", "received"], answer: "confirmed", explanations: { ja: "VARåˆ¤å®šå¾Œã«ãƒ›ãƒ¼ãƒ ãƒ©ãƒ³ãŒç¢ºèªã•ã‚ŒãŸãŸã‚ã€‚confirmã¯ã€ç¢ºèªã™ã‚‹ã€ã®æ„å‘³ã€‚", en: "The home run was confirmed after review. 'Confirm' means to verify.", ko: "ë¹„ë””ì˜¤ íŒë… í›„ í™ˆëŸ°ì´ í™•ì¸ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. 'confirm'ì€ í™•ì¸í•˜ë‹¤ì˜ ì˜ë¯¸ì…ë‹ˆë‹¤." } },
  { q: "The fans ______ the stadium before the game started to see Ohtani practice.", options: ["have entered", "entering", "entered", "will entering"], answer: "entered", explanations: { ja: "å‹•è©ã®éå»å½¢ãŒå¿…è¦ã§ã™ã€‚enteredï¼ˆå…¥ã£ãŸï¼‰ãŒæ­£è§£ã€‚", en: "Past tense is required. 'Entered' is correct.", ko: "ê³¼ê±° ì‹œì œê°€ í•„ìš”í•©ë‹ˆë‹¤. 'entered'ê°€ ì •ë‹µì…ë‹ˆë‹¤." } },
  { q: "The Tokyo Dome event was ______ broadcast across Japan.", options: ["nation", "national", "nationwide", "nationalism"], answer: "nationwide", explanations: { ja: "'nationwide' ã¯ã€å…¨å›½çš„ã«ã€ã¨ã„ã†å‰¯è©ã¨ã—ã¦ä½¿ã‚ã‚Œã¾ã™ã€‚", en: "'Nationwide' is an adverb meaning 'throughout the nation'.", ko: "'nationwide'ëŠ” 'ì „êµ­ì ìœ¼ë¡œ'ë¼ëŠ” ë¶€ì‚¬ì…ë‹ˆë‹¤." } },
  { q: "The umpire's decision was final and could not be ______.", options: ["appeal", "appealing", "appealed", "appeals"], answer: "appealed", explanations: { ja: "'be appealed' ã§ã€ä¸Šè¨´ã•ã‚Œã‚‹ã€ã®å—å‹•æ…‹ã§ã™ã€‚", en: "'Be appealed' is the correct passive form.", ko: "'be appealed'ëŠ” ìˆ˜ë™í˜• í‘œí˜„ì…ë‹ˆë‹¤." } },
  { q: "Ohtani was ______ the MVP for the 2025 season.", options: ["give", "gave", "giving", "given"], answer: "given", explanations: { ja: "beå‹•è©ï¼‹éå»åˆ†è©ã§å—å‹•æ…‹ã‚’ä½œã‚Šã¾ã™ã€‚'given' ã¯ã€ä¸ãˆã‚‰ã‚ŒãŸã€ã€‚", en: "'Was given' is passive voice meaning 'was awarded'.", ko: "'was given'ì€ ìˆ˜ë™íƒœë¡œ 'ìˆ˜ì—¬ë˜ì—ˆë‹¤'ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤." } },
  { q: "The Dodgers' victory in Tokyo was celebrated ______ fans around the world.", options: ["by", "at", "to", "with"], answer: "by", explanations: { ja: "celebrated by ã€œã§ã€ã€œã«ã‚ˆã£ã¦ç¥ã‚ã‚ŒãŸã€ã€‚byãŒæ­£è§£ã€‚", en: "'Celebrated by' means 'was celebrated by someone'.", ko: "'celebrated by'ëŠ” '~ì— ì˜í•´ ì¶•í•˜ë˜ì—ˆë‹¤'ëŠ” ëœ»ì…ë‹ˆë‹¤." } },
  { q: "The stadium was filled to ______ capacity during the opening game.", options: ["its", "it", "their", "his"], answer: "its", explanations: { ja: "æ‰€æœ‰æ ¼ã®itsãŒæ­£è§£ã€‚capacityï¼ˆå®¹é‡ï¼‰ã¯å˜æ•°åè©ã€‚", en: "'Its' is the correct possessive pronoun for singular 'capacity'.", ko: "'its'ëŠ” ë‹¨ìˆ˜ ëª…ì‚¬ 'capacity'ì— ë§ëŠ” ì†Œìœ ê²©ì…ë‹ˆë‹¤." } },
  { q: "Ohtaniâ€™s presence greatly ______ ticket sales.", options: ["increased", "enhancing", "growth", "expand"], answer: "increased", explanations: { ja: "'increase'ã¯ä»–å‹•è©ãªã®ã§ç›®çš„èªï¼ˆticket salesï¼‰ãŒå¿…è¦ã€‚", en: "'Increased' is a transitive verb requiring an object.", ko: "'increased'ëŠ” ëª©ì ì–´ê°€ í•„ìš”í•œ íƒ€ë™ì‚¬ì…ë‹ˆë‹¤." } },
  { q: "A ______ of reporters gathered to cover the game.", options: ["crew", "staff", "team", "group"], answer: "group", explanations: { ja: "reportersï¼ˆè¤‡æ•°äººï¼‰ã«å¯¾ã—ã¦groupãŒè‡ªç„¶ã€‚é›†åˆåè©ã€‚", en: "'Group' is a collective noun for people like reporters.", ko: "'group'ëŠ” ê¸°ìë“¤ê³¼ ê°™ì€ ì‚¬ëŒë“¤ì— ì–´ìš¸ë¦¬ëŠ” ì§‘í•© ëª…ì‚¬ì…ë‹ˆë‹¤." } },
  { q: "The announcer welcomed everyone and ______ the beginning of the match.", options: ["declared", "intended", "invented", "attended"], answer: "declared", explanations: { ja: "è©¦åˆé–‹å§‹ã‚’å®£è¨€ã™ã‚‹ã¨ã„ã†æ–‡è„ˆã§ã¯declaredï¼ˆå®£è¨€ã—ãŸï¼‰ãŒè‡ªç„¶ã€‚", en: "'Declared' fits the context of announcing a match.", ko: "'declared'ëŠ” ê²½ê¸°ë¥¼ ì„ ì–¸í•˜ëŠ” ë¬¸ë§¥ì— ì í•©í•©ë‹ˆë‹¤." } },
  { q: "Shohei Ohtani has continued to ______ fans with his skills and personality.", options: ["impress", "impressed", "impresses", "impressing"], answer: "impress", explanations: { ja: "toã®å¾Œã‚ã«ã¯å‹•è©ã®åŸå½¢ãŒæ¥ã‚‹ãŸã‚impressãŒæ­£è§£ã€‚", en: "The verb after 'to' must be in base form.", ko: "'to' ë‹¤ìŒì—ëŠ” ë™ì‚¬ ì›í˜•ì´ ì™€ì•¼ í•˜ë¯€ë¡œ 'impress'ê°€ ì •ë‹µì…ë‹ˆë‹¤." } },
  { q: "The team arranged a press conference ______ the game.", options: ["during", "while", "after", "since"], answer: "after", explanations: { ja: "ã€è©¦åˆå¾Œã«ã€ã¨ã„ã†æ„å‘³ãªã®ã§afterãŒé©åˆ‡ã€‚", en: "'After' fits the meaning 'after the game'.", ko: "'after'ëŠ” 'ê²½ê¸° í›„ì—'ë¼ëŠ” ì˜ë¯¸ë¡œ ì ì ˆí•©ë‹ˆë‹¤." } },
  { q: "Ohtani was interviewed by several media outlets, including NHK and ______.", options: ["and", "or", "but", "CNN"], answer: "CNN", explanations: { ja: "ã€NHKã‚„CNNãªã©ã€ã¨ã„ã†æ–‡è„ˆã§CNNãŒè‡ªç„¶ã€‚", en: "'Including NHK and CNN' fits the structure.", ko: "'NHK ë° CNN í¬í•¨' ë¬¸ë§¥ì—ì„œ 'CNN'ì´ ìì—°ìŠ¤ëŸ½ìŠµë‹ˆë‹¤." } },
  { q: "The Tokyo series ______ a major success for MLB.", options: ["was", "were", "are", "be"], answer: "was", explanations: { ja: "ä¸»èªãŒseriesã§ã‚‚å˜æ•°æ‰±ã„ã®ãŸã‚wasãŒæ­£è§£ã€‚", en: "'Series' is treated as singular here, so 'was' is correct.", ko: "'series'ëŠ” ë‹¨ìˆ˜ë¡œ ê°„ì£¼ë˜ì–´ 'was'ê°€ ë§ìŠµë‹ˆë‹¤." } },
  { q: "The game was postponed due to heavy rain, but it ______ resumed later.", options: ["is", "has", "was", "will"], answer: "was", explanations: { ja: "ã€ä¸­æ–­ã•ã‚ŒãŸãŒå†é–‹ã•ã‚ŒãŸã€ã¨ã„ã†æ„å‘³ã§wasãŒè‡ªç„¶ã€‚", en: "'Was resumed' fits past passive meaning.", ko: "'was resumed'ëŠ” ê³¼ê±° ìˆ˜ë™íƒœë¡œ ì ì ˆí•©ë‹ˆë‹¤." } },
  { q: "The pitcher threw a fastball that Ohtani ______ with ease.", options: ["hit", "hits", "hitting", "was hit"], answer: "hit", explanations: { ja: "thatç¯€å†…ã®éå»æ™‚åˆ¶ã¨ã—ã¦hitãŒæ­£è§£ã€‚", en: "'Hit' is simple past tense, fitting the sentence.", ko: "'hit'ëŠ” ê³¼ê±° ì‹œì œë¡œ ë¬¸ë§¥ì— ë§ìŠµë‹ˆë‹¤." } },
  { q: "The crowd cheered ______ when the ball landed in the stands.", options: ["loud", "loudly", "louder", "more loud"], answer: "loudly", explanations: { ja: "å‰¯è©ã§ã‚ã‚‹loudlyãŒå‹•è©cheeredã‚’ä¿®é£¾ã€‚", en: "'Loudly' modifies the verb 'cheered'.", ko: "'loudly'ëŠ” ë™ì‚¬ 'cheered'ë¥¼ ìˆ˜ì‹í•©ë‹ˆë‹¤." } },
  { q: "MLB officials stated that the Tokyo series was held ______ high safety standards.", options: ["with", "under", "over", "for"], answer: "under", explanations: { ja: "ã€ã€œã®ã‚‚ã¨ã§ã€ã¨ã„ã†æ„å‘³ã§underãŒæ­£ã—ã„ã€‚", en: "'Under' means 'under conditions/standards'.", ko: "'under'ëŠ” '~ ê¸°ì¤€ í•˜ì—'ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤." } },
  { q: "Tickets for the event were sold out within ______.", options: ["hours", "hour", "a hours", "an hour"], answer: "hours", explanations: { ja: "è¤‡æ•°æ™‚é–“ã§å£²ã‚Šåˆ‡ã‚ŒãŸã¨ã„ã†æ„å‘³ãªã®ã§è¤‡æ•°å½¢hoursãŒæ­£è§£ã€‚", en: "Plural 'hours' fits the context of multiple hours.", ko: "ë³µìˆ˜í˜• 'hours'ê°€ ë¬¸ë§¥ìƒ ì ì ˆí•©ë‹ˆë‹¤." } },
  { q: "The manager said he was proud of the teamâ€™s ______.", options: ["perform", "performance", "performed", "performing"], answer: "performance", explanations: { ja: "åè©ã®performanceï¼ˆæˆæœï¼‰ãŒå¿…è¦ã€‚", en: "'Performance' is the correct noun form.", ko: "'performance'ëŠ” ëª…ì‚¬í˜•ìœ¼ë¡œ ì ì ˆí•©ë‹ˆë‹¤." } },
  { q: "Japanese media extensively ______ the Tokyo games.", options: ["cover", "covering", "covered", "covers"], answer: "covered", explanations: { ja: "æ™‚åˆ¶ã«åˆã‚ã›ã¦éå»å½¢coveredãŒæ­£è§£ã€‚", en: "Past tense 'covered' fits the timeline.", ko: "ê³¼ê±°í˜• 'covered'ê°€ ë¬¸ë§¥ì— ë§ìŠµë‹ˆë‹¤." } },
  { q: "Fans bought merchandise to ______ their support.", options: ["shown", "show", "shows", "showing"], answer: "show", explanations: { ja: "toä¸å®šè©ã®å¾Œã«ã¯å‹•è©ã®åŸå½¢showãŒæ¥ã‚‹ã€‚", en: "After 'to', base verb 'show' is correct.", ko: "'to' ë‹¤ìŒì—” ë™ì‚¬ ì›í˜• 'show'ê°€ ì˜µë‹ˆë‹¤." } },
  { q: "The game not only entertained fans but also ______ tourism in Tokyo.", options: ["boost", "boosted", "boosting", "boosts"], answer: "boosted", explanations: { ja: "éå»å½¢ã®æ–‡è„ˆã§boostedãŒè‡ªç„¶ã€‚", en: "'Boosted' fits the past tense structure.", ko: "ê³¼ê±°í˜• 'boosted'ê°€ ë¬¸ì¥ êµ¬ì¡°ì— ë§ìŠµë‹ˆë‹¤." } },
  { q: "Many international visitors traveled to Tokyo ______ the game.", options: ["attending", "attend", "to attend", "attended"], answer: "to attend", explanations: { ja: "ç›®çš„ã‚’è¡¨ã™toä¸å®šè©ã§to attendãŒæ­£è§£ã€‚", en: "'To attend' expresses purpose.", ko: "'to attend'ëŠ” ëª©ì ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤." } },
  { q: "Local businesses reported an increase in sales, ______ the eventâ€™s economic impact.", options: ["highlighting", "highlighted", "highlight", "to highlight"], answer: "highlighting", explanations: { ja: "æ–‡ã®ã¤ãªãŒã‚Šã‹ã‚‰ç¾åœ¨åˆ†è©highlightingãŒé©åˆ‡ã€‚", en: "'Highlighting' shows ongoing result.", ko: "í˜„ì¬ë¶„ì‚¬ 'highlighting'ê°€ ë¬¸ë§¥ìƒ ìì—°ìŠ¤ëŸ½ìŠµë‹ˆë‹¤." } }
];

const translations = {
  ja: {
    title: "ğŸ“ ä»Šé€±ã®æ™‚äº‹TOEIC Part 5 æ¨¡æ“¬å•é¡Œï¼ˆå…¨25å•ï¼‰",
    submit: "è§£ç­”ã‚’æå‡ºã™ã‚‹",
    shareTitle: "ğŸ“¤ çµæœã‚’SNSã§ã‚·ã‚§ã‚¢ã—ã‚ˆã†ï¼",
    shareText: "ã“ã®æ¨¡æ“¬ãƒ†ã‚¹ãƒˆã«æŒ‘æˆ¦ã—ãŸã“ã¨ã‚’å‹é”ã«çŸ¥ã‚‰ã›ã‚ˆã†ï¼",
    twitter: "ğŸ•Š Xï¼ˆTwitterï¼‰ã§ã‚·ã‚§ã‚¢",
    instagram: "ğŸ“¸ Instagramç”¨ç”»åƒã‚’ä¿å­˜",
    timeTaken: "â± è§£ç­”æ™‚é–“ã¯",
    seconds: "ç§’ã§ã™ã€‚",
    targetTime: "ï¼ˆç›®å®‰: 600ç§’ï¼‰",
    finished: "ï¼ˆæ™‚é–“å†…ã«è§£ãçµ‚ã‚ã‚Šã¾ã—ãŸâœ¨ï¼‰",
    overtime: "ï¼ˆæƒ³å®šæ™‚é–“ã‚’è¶…ãˆã¦ã„ã¾ã™âš ï¸ï¼‰",
    correct: "æ­£è§£",
    yourAnswer: "ã‚ãªãŸã®ç­”ãˆ",
    unanswered: "æœªå›ç­”"
  },
  en: {
    title: "ğŸ“ This Week's TOEIC Part 5 Practice (25 Questions)",
    submit: "Submit Answers",
    shareTitle: "ğŸ“¤ Share Your Results on Social Media!",
    shareText: "Let your friends know you took this TOEIC practice!",
    twitter: "ğŸ•Š Share on X (Twitter)",
    instagram: "ğŸ“¸ Save Image for Instagram",
    timeTaken: "â± Time Taken:",
    seconds: " seconds",
    targetTime: " (Target: 600 seconds)",
    finished: " (Finished in timeâœ¨)",
    overtime: " (Exceeded expected timeâš ï¸)",
    correct: "Correct",
    yourAnswer: "Your answer",
    unanswered: "Unanswered"
  },
  ko: {
    title: "ğŸ“ ì´ë²ˆ ì£¼ ì‹œì‚¬ TOEIC Part 5 ëª¨ì˜ì‹œí—˜ (ì´ 25ë¬¸ì œ)",
    submit: "ë‹µì•ˆ ì œì¶œí•˜ê¸°",
    shareTitle: "ğŸ“¤ ê²°ê³¼ë¥¼ SNSì— ê³µìœ í•˜ì„¸ìš”!",
    shareText: "ì´ ëª¨ì˜ì‹œí—˜ì— ë„ì „í•œ ê²ƒì„ ì¹œêµ¬ë“¤ì—ê²Œ ì•Œë ¤ë³´ì„¸ìš”!",
    twitter: "ğŸ•Š X (íŠ¸ìœ„í„°)ë¡œ ê³µìœ í•˜ê¸°",
    instagram: "ğŸ“¸ ì¸ìŠ¤íƒ€ê·¸ë¨ìš© ì´ë¯¸ì§€ ì €ì¥",
    timeTaken: "â± ì†Œìš” ì‹œê°„:",
    seconds: "ì´ˆ",
    targetTime: " (ì˜ˆìƒ: 600ì´ˆ)",
    finished: " (ì˜ˆìƒ ì‹œê°„ ë‚´ ì™„ë£Œâœ¨)",
    overtime: " (ì˜ˆìƒ ì‹œê°„ì„ ì´ˆê³¼âš ï¸)",
    correct: "ì •ë‹µ",
    yourAnswer: "ë‹¹ì‹ ì˜ ë‹µ",
    unanswered: "ë¬´ì‘ë‹µ"
  }
};

function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem("toeicLang", lang);
  const t = translations[lang];
  document.getElementById("main-title").textContent = t.title;
  document.getElementById("submit-button").textContent = t.submit;
  document.getElementById("share-title").textContent = t.shareTitle;
  document.getElementById("share-text").textContent = t.shareText;
  document.getElementById("share-twitter").textContent = t.twitter;
  document.getElementById("share-instagram").textContent = t.instagram;
}

function gradeQuiz() {
  let correct = 0;
  const scoreDiv = document.getElementById("score");
  const questionDivs = document.querySelectorAll(".question");
  questionDivs.forEach(div => div.querySelectorAll(".explanation")?.forEach(e => e.remove()));

  quizData.forEach((item, index) => {
    const selected = document.querySelector(`input[name=q${index}]:checked`);
    const explanation = document.createElement("p");
    explanation.className = "explanation";
    explanation.style.fontWeight = "normal";
    if (selected && selected.value === item.answer) {
      correct++;
      explanation.innerHTML = `<span class='correct'>âœ“</span> ${translations[currentLang].correct}ï¼š${item.answer}`;
    } else {
      explanation.innerHTML = `<span class='incorrect'>âœ—</span> ${translations[currentLang].correct}ï¼š${item.answer}` + (selected ? `ï¼ˆ${translations[currentLang].yourAnswer}: ${selected.value}ï¼‰` : `ï¼ˆ${translations[currentLang].unanswered}ï¼‰`);
    }
    questionDivs[index].appendChild(explanation);

    if (item.explanations && item.explanations[currentLang]) {
      const detail = document.createElement("p");
      detail.className = "explanation";
      detail.style.fontStyle = "italic";
      detail.textContent = item.explanations[currentLang];
      questionDivs[index].appendChild(detail);
    }
  });

  const percentage = ((correct / quizData.length) * 100).toFixed(1);
  scoreDiv.innerHTML = `${translations[currentLang].correct}: <span class="correct">${correct}</span> / ${quizData.length} (<strong>${percentage}%</strong>)`;

  const elapsed = Math.floor((Date.now() - startTime) / 1000);
  let timeMessage = `${translations[currentLang].timeTaken} ${elapsed}${translations[currentLang].seconds}`;
  timeMessage += elapsed <= expectedTimeSec ? translations[currentLang].finished : translations[currentLang].overtime;
  document.getElementById("time-result").textContent = timeMessage;
}

function shareOnTwitter() {
  const scoreText = document.getElementById("score")?.textContent || "";
  const timeText = document.getElementById("time-result")?.textContent || "";
  const tweetText = encodeURIComponent(`TOEIC Part 5 æ¨¡æ“¬å•é¡Œã«æŒ‘æˆ¦ã—ã¾ã—ãŸï¼
${scoreText}
${timeText}
#TOEIC #è‹±èªå­¦ç¿’ #æ¨¡è©¦ #æ¨ã—TOEIC`);
  const url = encodeURIComponent(window.location.href);
  const tweetUrl = `https://twitter.com/intent/tweet?text=${tweetText}&url=${url}`;
  window.open(tweetUrl, '_blank');
}

function captureResult() {
  const resultArea = document.querySelector('.result');
  html2canvas(resultArea).then(canvas => {
    const link = document.createElement('a');
    link.download = 'toeic_result.png';
    link.href = canvas.toDataURL();
    link.click();
  });
}

window.addEventListener("DOMContentLoaded", () => {
  const savedLang = localStorage.getItem("toeicLang") || "ja";
  setLanguage(savedLang);

  const questionDiv = document.getElementById("questions");
  quizData.forEach((item, index) => {
    const block = document.createElement("div");
    block.className = "question";
    block.innerHTML = `<p><strong>Q${index + 1}:</strong> ${item.q}</p>` +
      item.options.map(opt => `<label><input type='radio' name='q${index}' value='${opt}'> ${opt}</label><br>`).join("");
    questionDiv.appendChild(block);
  });

  setInterval(() => {
    const elapsed = Math.floor((Date.now() - startTime) / 1000);
    document.getElementById("timer").textContent = `ğŸ•’ ${translations[currentLang].timeTaken} ${elapsed}${translations[currentLang].seconds} ${translations[currentLang].targetTime}`;
  }, 1000);
});
// ------------------------------
// âœ… å…¨æ©Ÿèƒ½çµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆçµ‚äº†
// ------------------------------
</script>
</body>
</html>
